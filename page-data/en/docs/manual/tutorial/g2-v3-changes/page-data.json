{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-0-10-46-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/en/docs/manual/tutorial/g2-v3-changes","result":{"data":{"site":{"siteMetadata":{"title":"G2","githubUrl":"https://github.com/antvis/g2","docs":[{"slug":"manual/getting-started","title":{"zh":"快速开始","en":"Getting Started"},"order":0},{"slug":"manual/tutorial","title":{"zh":"使用教程","en":"Tutorial"},"order":1},{"slug":"manual/advanced","title":{"zh":"高级教程","en":"Advanced"},"order":2},{"slug":"manual/faq","title":{"zh":"G2 常见问题","en":"FAQ"},"order":3}]},"pathPrefix":""},"markdownRemark":{"html":"<h2 id=\"引入方式的改变\" style=\"position:relative;\"><a href=\"#%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F%E7%9A%84%E6%94%B9%E5%8F%98\" aria-label=\"引入方式的改变 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>引入方式的改变</h2>\n<h3 id=\"cdn\" style=\"position:relative;\"><a href=\"#cdn\" aria-label=\"cdn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cdn</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"{{ url.g2 }}\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre></div>\n<h3 id=\"npm\" style=\"position:relative;\"><a href=\"#npm\" aria-label=\"npm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npm</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npm install @antv<span class=\"token operator\">/</span>g2 <span class=\"token operator\">--</span>save</code></pre></div>\n<p>同时我们为 G2 2.x 和 G2 3.0 提供了共存机制，当两个版本同时存在时，请使用 <code class=\"language-text\">G2_3</code> 命名空间来使用 3.0.0 的版本。</p>\n<h2 id=\"图表结构变化\" style=\"position:relative;\"><a href=\"#%E5%9B%BE%E8%A1%A8%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96\" aria-label=\"图表结构变化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>图表结构变化</h2>\n<ol>\n<li>G2 3.0 的图表 <strong>只由一层 canvas 组成</strong>，不再是之前的三层画布；</li>\n<li>tooltip 统一使用 html 进行渲染。</li>\n</ol>\n<h2 id=\"变更的接口\" style=\"position:relative;\"><a href=\"#%E5%8F%98%E6%9B%B4%E7%9A%84%E6%8E%A5%E5%8F%A3\" aria-label=\"变更的接口 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>变更的接口</h2>\n  <table>\n    <tbody>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">接口描述</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">G2 3.0 版本</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">G2 2.x 版本</div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">创建 chart 对象</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">new G2.Chart({\n  container: &#x27;c1&#x27;,\n  padding: 40,\n  background: {\n    stroke: &#x27;#bfbfbf&#x27;\n  },\n  plotBackground: {\n    fill: &#x27;rgba(0, 0, 0, 0.1)&#x27;\n  }\n});\n</code></pre>\n          <div data-type=\"p\"></div>\n          <blockquote>\n            <div data-type=\"p\">说明：</div>\n          </blockquote>\n          <ol start=\"1\" data-type=\"unordered-list\">\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\"><code>container</code> 替代原先的 <code>id</code> 和 <code>container</code>，及支持 string 也支持传入 dom 对象，为了兼容旧版，也支持直接使用 <code>id</code></div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">原先 <code>plotCfg</code> 属性废弃，原先的配置分别在 <code>padding，background，plotBackground</code> 中设置。</div>\n            </li>\n          </ol>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">new G2.Chart({\n  id: &#x27;c1&#x27;,\n  plotCfg: {\n    margin: 40,\n    border: {\n      stroke: &#x27;#bfbfbf&#x27;\n    },\n    background: {\n      fill: &#x27;rgba(0, 0, 0, 0.1)&#x27;\n    }\n  }\n})\n</code></pre>\n          <div data-type=\"p\"></div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">创建 view</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.createView()\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.view()\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">加载数据</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.source(data, scaleDefs)\n</code></pre>\n          <blockquote>\n            <div data-type=\"p\">说明:</div>\n          </blockquote>\n          <div data-type=\"p\">不再支持 <code>namesArr</code> 属性，如需要补全字段，请使用 DataView 的 transform</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.source(data[, scaleDefs, namesArr])\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">列定义</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.scale({});\nchart.scale(&#x27;&#x27;, {});\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.col(&#x27;&#x27;, {});\nchart.cols({})\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">坐标轴配置</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">接口使用方式不变，但是对可配置的属性结构以及部分属性名做了变化，详见\n            <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/chart#whc6bq\" class=\"bi-link\">chart.axis() API</a>, 这里说明下变化较大的属性。</div><pre data-syntax=\"\"><code class=\"language-\">chart.axis(&#x27;x&#x27;, {\n  label: {\n    textStyle: {\n      fill: &#x27;red&#x27;\n    },\n    autoRotate: true,\n    offset: 10,\n    formatter: val =&gt; {}\n  }\n});\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.axis(&#x27;x&#x27;, {\n  labelOffset: 10,\n  labels: {\n    label: {\n      fill: &#x27;red&#x27;\n    },\n    autoRotate: true\n  },\n  formatter: val =&gt; {}\n});\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">图例配置</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">接口使用方式不变，但是对可配置的属性结构以及部分属性名做了变化，并且新添加了更多的功能，详见\n            <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/chart#h34mcz\" class=\"bi-link\">chart.legend() API</a>\n          </div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\"></div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">坐标系配置</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">G2 3.0 坐标系只支持 <code>rect,polar,helix,theta</code> 四种，原先的 <code>inner</code> 属性更名为 <code>innerRadius</code></div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\"></div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">分面</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.facet(&#x27;list&#x27;, {\n  fields: [field],\n  eachView(view, facet) {\n     view.point().position(&#x27;x*y&#x27;);\n     // guide\n     // to do something else\n  }\n});\n</code></pre>\n          <blockquote>\n            <div data-type=\"p\">说明：</div>\n          </blockquote>\n          <div data-type=\"p\">新增加了 matrix 分面，用于实现散点图矩阵。详见\n            <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/chart#cizqmm\" class=\"bi-link\">chart.facet() API</a>。</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.facet([field], {\n  type: &#x27;list&#x27;\n});\nchart.point().position(&#x27;x*y&#x27;)\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">tooltip 配置</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">G2 3.0 的 tooltip 使用 html 渲染。tooltip 配置的地方如下：</div>\n          <ol start=\"1\" data-type=\"unordered-list\">\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">\n                <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/tooltip\" class=\"bi-link\">chart.tooltip()</a>\n              </div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">view.tooltip(true | false)</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">\n                <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/geometry#dlu5rn\" class=\"bi-link\">geom.tooltip()</a>\n              </div>\n            </li>\n          </ol>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\"></div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">Guide 创建</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.guide().line({\n  start: [startXValue, startYValue],\n  end: [endXValue, endYValue],\n  lineStyle: {\n    stroke: &#x27;#999&#x27;,\n    lineDash: [0, 2, 2],\n    lineWidth: 3\n  }\n});\n</code></pre>\n          <div data-type=\"p\"></div>\n          <blockquote>\n            <div data-type=\"p\">说明：</div>\n          </blockquote>\n          <ol start=\"1\" data-type=\"unordered-list\">\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">原先的 chart.guide().rect() 更名为 chart.guide().region()</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">移除 chart.guide().tag()</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">chart.guide().line() 支持文本</div>\n            </li>\n          </ol>\n          <div data-type=\"p\"></div>\n          <div data-type=\"p\">详见\n            <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/chart#gokznc\" class=\"bi-link\">chart.guide() API</a>\n          </div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.guide().line([startXValue, startYValue], [endXValue, endYValue], {\n  stroke: &#x27;#999&#x27;, // 线的颜色\n  lineDash: [0, 2, 2], // 虚线的设置\n  lineWidth: 3 // 线的宽度\n});\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">数据过滤</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.filter(&#x27;a&#x27;, val =&gt; {});\n</code></pre>\n          <div data-type=\"p\">详见\n            <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/chart#ybmudb\" class=\"bi-link\">chart.filter() API</a>\n          </div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.filter(&#x27;a&#x27;, []);\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">geom 创建</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <ol start=\"1\" data-type=\"unordered-list\">\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\"><code>chart.contour()</code> 废弃，使用 <code>chart.polygon()</code> 代替；</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\"><code>chart.interval([&#x27;dodge&#x27;, &#x27;stack&#x27;])</code> 不再支持，请按照以下方式声明：</div>\n            </li>\n          </ol><pre data-syntax=\"\"><code class=\"language-\">chart.interval().adjust([&#x27;dodge&#x27;, &#x27;stack&#x27;])\n</code></pre>\n          <div data-type=\"p\"></div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\"></div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">geom.position()</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">position(&#x27;x*y&#x27;)\n</code></pre>\n          <div data-type=\"p\"></div>\n          <blockquote>\n            <div data-type=\"p\">说明</div>\n          </blockquote>\n          <ol start=\"1\" data-type=\"unordered-list\">\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">不再支持加法运算符</div>\n            </li>\n            <li data-type=\"list-item\" data-list-type=\"unordered-list\">\n              <div data-type=\"p\">不再支持所有的统计函数嵌套方式</div>\n            </li>\n          </ol>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">position(&#x27;x*y&#x27;);\nposition(&#x27;x*(a+b)&#x27;);\npositon(Stat.summary.percent(&#x27;x*y&#x27;))\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">geom.size()</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">size(&#x27;x&#x27;, [min. max])\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">size(&#x27;x&#x27;, max, min);\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">geom.label()</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">.label(&#x27;x&#x27;, {\n    offset: -16,\n    label: {\n      fontWeight: &#x27;bold&#x27;,\n      fontSize: 12\n    },\n    formatter: () =&gt; {}\n})\n</code></pre>\n          <div data-type=\"p\"></div>\n          <div data-type=\"p\">详见\n            <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"/zh/docs/api/geometry#84ebds\" class=\"bi-link\">geom.label() API</a>\n          </div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">.label(&#x27;x&#x27;, {\n    offset: -16,\n    textStyle: {\n        fontWeight: &#x27;bold&#x27;,\n        fontSize: 12\n    },\n    renderer: () =&gt; {}\n})\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">geom 的选中模式</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">geom.select()\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">geom.selected()\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">自定义 Shape</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">G2.Shape.registerShape(&#x27;interval&#x27;, {\n  getPoints(cfg) {},\n  draw(cfg, container) {}\n});\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">G2.Shape.registShape(&#x27;interval&#x27;, {\n  getShapePoints(cfg) {},\n  drawShape(cfg, container) {}\n});\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">自定义动画</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">G2.Animate.registerAnimation()\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">G2.Animate.registAnimation()\n</code></pre></td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">shape.animte</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">/**\n   * 执行动画\n   * @param  {Object}   toProps  动画最终状态\n   * @param  {Number}   duration 动画执行时间\n   * @param  {Number}   delay    动画延迟时间\n   * @param  {String}   easing   动画缓动效果\n   * @param  {Function} callback 动画执行后的回调\n   */\n  shape.animate(toProps, duration, delay = 0, easing, callback)\n</code></pre>\n          <div data-type=\"p\"></div>\n          <div data-type=\"p\">easing 的名称全部采用 [d3-easing](https://github.com/d3/d3-ease)。</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\"></div>\n        </td>\n      </tr>\n      <tr>\n        <td rowspan=\"1\" colSpan=\"1\">\n          <div data-type=\"p\">事件</div>\n        </td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.on(&#x27;tooltip:change&#x27;);\nchart.on(&#x27;tooltip:show&#x27;);\nchart.on(&#x27;tooltip:hide&#x27;)\n</code></pre></td>\n        <td rowspan=\"1\" colSpan=\"1\"><pre data-syntax=\"\"><code class=\"language-\">chart.on(&#x27;tooltipchange&#x27;);\nchart.on(&#x27;tooltipshow&#x27;);\nchart.on(&#x27;tooltiphide&#x27;)\n</code></pre></td>\n      </tr>\n    </tbody>\n  </table>\n<h2 id=\"废弃的类、接口、属性、事件\" style=\"position:relative;\"><a href=\"#%E5%BA%9F%E5%BC%83%E7%9A%84%E7%B1%BB%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%81%E5%B1%9E%E6%80%A7%E3%80%81%E4%BA%8B%E4%BB%B6\" aria-label=\"废弃的类、接口、属性、事件 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>废弃的类、接口、属性、事件</h2>\n<ul>\n<li><del>G2.Frame</del>\n废除 <code class=\"language-text\">Frame</code> ，由<a href=\"/zh/docs/api/data-set\"> DataView</a> 替代。</li>\n<li><del>G2.Stat</del>\n废除 <code class=\"language-text\">Stat</code>, 由 <a href=\"/zh/docs/api/data-set/#datasettransforms\">DataView 的 transform</a> 替代。</li>\n<li><del>G2.Theme</del>\n直接使用 <code class=\"language-text\">G2.Global</code>。</li>\n<li><del>G2.Canvas</del>\n直接使用 G2.G</li>\n<li><del>G2.Coord</del></li>\n<li><del>G2.Base</del></li>\n<li><del>G2.ColorCalculate</del></li>\n<li><del>G2.Layout</del>\n由<a href=\"/zh/docs/api/data-set/#datasettransforms\"> DataView 的 transform</a> 相应的方法替代。</li>\n<li><del>chart.col() 以及 chart.cols()</del>\n使用 <code class=\"language-text\">chart.scale()</code> 替代</li>\n<li><del>chart.guide().tag()</del></li>\n<li><del>chart.guide().rect()</del>\n使用 <code class=\"language-text\">chart.guide().region()</code> 替代。</li>\n<li><del>chart.setMode()</del></li>\n<li><del>chart.select()</del></li>\n<li><del>chart.getPosition()</del>\n使用 <code class=\"language-text\">chart.getXY()</code> 替代。</li>\n<li><del>chart.contour()</del>\n通过 ploygon 来实现。</li>\n<li><del>syncXYScales</del>\n度量统一，3.0 中在列定义中进行声明：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">chart<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  sync<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ul>\n<li><del>plotCfg</del></li>\n<li><del>chart.on(‘itemselected’)</del></li>\n<li><del>chart.on(‘itemunselected’)</del></li>\n<li><del>chart.on(‘itemselectedchange’)</del></li>\n<li><del>chart.on(‘rangeselectstart’)</del></li>\n<li><del>chart.on(‘rangeselectend’)</del></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/en/docs/manual/tutorial/g2-v3-changes/#%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F%E7%9A%84%E6%94%B9%E5%8F%98\">引入方式的改变</a></p>\n<ul>\n<li><a href=\"/en/docs/manual/tutorial/g2-v3-changes/#cdn\">cdn</a></li>\n<li><a href=\"/en/docs/manual/tutorial/g2-v3-changes/#npm\">npm</a></li>\n</ul>\n</li>\n<li><a href=\"/en/docs/manual/tutorial/g2-v3-changes/#%E5%9B%BE%E8%A1%A8%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96\">图表结构变化</a></li>\n<li><a href=\"/en/docs/manual/tutorial/g2-v3-changes/#%E5%8F%98%E6%9B%B4%E7%9A%84%E6%8E%A5%E5%8F%A3\">变更的接口</a></li>\n<li><a href=\"/en/docs/manual/tutorial/g2-v3-changes/#%E5%BA%9F%E5%BC%83%E7%9A%84%E7%B1%BB%E3%80%81%E6%8E%A5%E5%8F%A3%E3%80%81%E5%B1%9E%E6%80%A7%E3%80%81%E4%BA%8B%E4%BB%B6\">废弃的类、接口、属性、事件</a></li>\n</ul>","fields":{"slug":"/en/docs/manual/tutorial/g2-v3-changes","readingTime":{"text":"6 min read","time":322800}},"frontmatter":{"title":"G2 3.0 升级指引"},"parent":{"__typename":"File","relativePath":"manual/tutorial/g2-v3-changes.en.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/zh/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/getting-started"},"frontmatter":{"title":"快速上手","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/en/docs/api/g2"},"frontmatter":{"title":"G2","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/grammar"},"frontmatter":{"title":"图形语法","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/chart-composition"},"frontmatter":{"title":"G2 图表组成","order":0}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-flow"},"frontmatter":{"title":"G2 的数据处理流程","order":1}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/creating-chart"},"frontmatter":{"title":"创建图表","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/chart"},"frontmatter":{"title":"Chart 图表","order":1}}},{"node":{"fields":{"slug":"/en/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/view"},"frontmatter":{"title":"View 视图","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/data-type-and-scale"},"frontmatter":{"title":"数据类型与度量","order":2}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/loading-data"},"frontmatter":{"title":"装载数据","order":2}}},{"node":{"fields":{"slug":"/en/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/deep-into-coord"},"frontmatter":{"title":"坐标系详解","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/data-set"},"frontmatter":{"title":"DataSet","order":3}}},{"node":{"fields":{"slug":"/zh/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/faq"},"frontmatter":{"title":"G2 常见问题","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/zh/docs/api/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/geom-and-adjust"},"frontmatter":{"title":"几何标记和数据调整","order":4}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale"},"frontmatter":{"title":"Scale 度量","order":4}}},{"node":{"fields":{"slug":"/en/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/advanced/chart-type"},"frontmatter":{"title":"图表类型","order":5}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/scale-def"},"frontmatter":{"title":"什么是列定义","order":5}}},{"node":{"fields":{"slug":"/zh/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/animate"},"frontmatter":{"title":"Animate 动画","order":6}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/geometry"},"frontmatter":{"title":"Geometry 几何标记","order":6}}},{"node":{"fields":{"slug":"/en/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/zh/docs/api/shape"},"frontmatter":{"title":"自定义 Shape","order":7}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/attribute"},"frontmatter":{"title":"Attribute 图形属性","order":7}}},{"node":{"fields":{"slug":"/en/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/zh/docs/api/interaction"},"frontmatter":{"title":"Interaction 交互","order":8}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/coordinate"},"frontmatter":{"title":"Coordinate 坐标系","order":8}}},{"node":{"fields":{"slug":"/zh/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/en/docs/api/graphics"},"frontmatter":{"title":"Graphic 图形相关","order":9}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/axis"},"frontmatter":{"title":"Axis 坐标轴","order":9}}},{"node":{"fields":{"slug":"/zh/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/options"},"frontmatter":{"title":"Options 配置项声明","order":10}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/legend"},"frontmatter":{"title":"Legend 图例","order":10}}},{"node":{"fields":{"slug":"/en/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/zh/docs/api/slider"},"frontmatter":{"title":"Slider 滑块插件","order":11}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/tooltip"},"frontmatter":{"title":"Tooltip 提示信息","order":11}}},{"node":{"fields":{"slug":"/zh/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/en/docs/api/data-set"},"frontmatter":{"title":"DataSet","order":12}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/guide"},"frontmatter":{"title":"Guide 辅助元素","order":12}}},{"node":{"fields":{"slug":"/en/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/zh/docs/api/connector"},"frontmatter":{"title":"Connector 数据接入","order":13}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/facet"},"frontmatter":{"title":"Facet 分面","order":13}}},{"node":{"fields":{"slug":"/en/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/zh/docs/api/transform"},"frontmatter":{"title":"Transform 数据转换","order":14}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/theme"},"frontmatter":{"title":"Theme 图表皮肤","order":14}}},{"node":{"fields":{"slug":"/zh/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/en/docs/api/global"},"frontmatter":{"title":"Global 配置项","order":15}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/label"},"frontmatter":{"title":"Label 图形文本","order":15}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/event"},"frontmatter":{"title":"图表事件","order":16}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/interaction"},"frontmatter":{"title":"图表交互","order":17}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/slider"},"frontmatter":{"title":"Slider 滑块插件","order":18}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/update-data"},"frontmatter":{"title":"数据异步加载与动态更新","order":19}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/shape"},"frontmatter":{"title":"自定义 Shape","order":20}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/animate"},"frontmatter":{"title":"自定义动画","order":21}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/view"},"frontmatter":{"title":"创建 View","order":22}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/renderers"},"frontmatter":{"title":"选择 Canvas 还是 SVG","order":23}}},{"node":{"fields":{"slug":"/en/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}},{"node":{"fields":{"slug":"/zh/docs/manual/tutorial/g2-v3-changes"},"frontmatter":{"title":"G2 3.0 升级指引","order":24}}}]}},"pageContext":{}}}